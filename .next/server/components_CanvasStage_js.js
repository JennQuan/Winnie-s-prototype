"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "components_CanvasStage_js";
exports.ids = ["components_CanvasStage_js"];
exports.modules = {

/***/ "./components/CanvasStage.js":
/*!***********************************!*\
  !*** ./components/CanvasStage.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CanvasStage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_konva__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-konva */ \"react-konva\");\n/* harmony import */ var react_konva__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_konva__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst CANVAS_WIDTH = 800;\nconst CANVAS_HEIGHT = 1120;\nconst HANDLE_SIZE = 8;\n// Helper component for rendering image shapes\nfunction CanvasImageShape({ shape, setSelectedId, onChangeShape, handleDragEnd }) {\n    const [imageObj, setImageObj] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!shape.src) return;\n        const img = new window.Image();\n        img.src = shape.src;\n        img.onload = ()=>{\n            setImageObj(img);\n            // if width/height missing, initialize based on image\n            if (!shape.width || !shape.height) {\n                const maxWidth = 200;\n                const scale = img.width > maxWidth ? maxWidth / img.width : 1;\n                const width = img.width * scale;\n                const height = img.height * scale;\n                onChangeShape(shape.id, {\n                    width,\n                    height\n                });\n            }\n        };\n    }, [\n        shape.src\n    ]);\n    if (!imageObj) return null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Image, {\n        x: shape.x,\n        y: shape.y,\n        width: shape.width,\n        height: shape.height,\n        image: imageObj,\n        draggable: true,\n        onClick: ()=>setSelectedId(shape.id),\n        onTap: ()=>setSelectedId(shape.id),\n        onDragEnd: (e)=>handleDragEnd(shape, e)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n        lineNumber: 42,\n        columnNumber: 5\n    }, this);\n}\nfunction CanvasStage({ shapes, selectedId, setSelectedId, onChangeShape, onDropNewShape, stageRef }) {\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Inline textbox editing state\n    const [editing, setEditing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null); // {id, text, x, y, width, height, fontSize}\n    const handleStageMouseDown = (e)=>{\n        // clicked on empty area - clear selection (unless we are editing)\n        if (editing) return;\n        if (e.target === e.target.getStage()) {\n            setSelectedId(null);\n        }\n    };\n    const handleDragEnd = (shape, e)=>{\n        const node = e.target;\n        const newX = node.x();\n        const newY = node.y();\n        onChangeShape(shape.id, {\n            x: newX,\n            y: newY\n        });\n    };\n    const handleDrop = (e)=>{\n        e.preventDefault();\n        const type = e.dataTransfer.getData(\"shape-type\");\n        if (!type) return;\n        // Use stage container rect (so drop position is correct even when centered)\n        const stageContainer = stageRef.current?.container?.();\n        const stageRect = stageContainer?.getBoundingClientRect?.();\n        const fallbackRect = containerRef.current?.getBoundingClientRect?.();\n        const rect = stageRect || fallbackRect;\n        if (!rect) return;\n        let x = e.clientX - rect.left;\n        let y = e.clientY - rect.top;\n        // clamp inside stage bounds\n        x = Math.max(0, Math.min(CANVAS_WIDTH, x));\n        y = Math.max(0, Math.min(CANVAS_HEIGHT, y));\n        if (type === \"image\") {\n            const src = e.dataTransfer.getData(\"image-src\");\n            if (!src) return;\n            onDropNewShape(type, x, y, {\n                src\n            });\n            return;\n        }\n        onDropNewShape(type, x, y);\n    };\n    const handleDragOver = (e)=>{\n        e.preventDefault();\n    };\n    /** ---------- INLINE EDITING FOR TEXTBOX ---------- */ const startEditingTextbox = (shape)=>{\n        if (!containerRef.current || !stageRef.current) return;\n        const wrapperRect = containerRef.current.getBoundingClientRect();\n        const stageContainer = stageRef.current.container();\n        const stageRect = stageContainer.getBoundingClientRect();\n        // offset of stage inside wrapper (because it's centered)\n        const offsetX = stageRect.left - wrapperRect.left;\n        const offsetY = stageRect.top - wrapperRect.top;\n        setEditing({\n            id: shape.id,\n            text: shape.text || \"\",\n            x: offsetX + shape.x,\n            y: offsetY + shape.y,\n            width: shape.width || 200,\n            height: shape.height || 80,\n            fontSize: shape.fontSize || 16\n        });\n    };\n    const finishEditingTextbox = ()=>{\n        if (!editing) return;\n        onChangeShape(editing.id, {\n            text: editing.text\n        });\n        setEditing(null);\n    };\n    /** ---------- SHAPE RENDERING ---------- */ const renderShape = (shape, isSelected)=>{\n        // common styling for basic shapes\n        const commonProps = {\n            key: shape.id,\n            id: shape.id,\n            x: shape.x,\n            y: shape.y,\n            stroke: isSelected ? \"#2563eb\" : shape.stroke,\n            strokeWidth: shape.strokeWidth,\n            fill: shape.fill,\n            draggable: true,\n            onClick: ()=>setSelectedId(shape.id),\n            onTap: ()=>setSelectedId(shape.id),\n            onDragEnd: (e)=>handleDragEnd(shape, e)\n        };\n        if (shape.type === \"circle\") {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Circle, {\n                ...commonProps,\n                radius: shape.radius\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                lineNumber: 168,\n                columnNumber: 14\n            }, this);\n        }\n        if (shape.type === \"rect\") {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Rect, {\n                ...commonProps,\n                width: shape.width,\n                height: shape.height,\n                cornerRadius: 4\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                lineNumber: 173,\n                columnNumber: 9\n            }, this);\n        }\n        if (shape.type === \"omrRow\") {\n            const count = shape.count || 4;\n            const width = shape.width || 160;\n            const height = shape.height || 34;\n            const bubbleRadius = Math.min(12, height / 2 - 4);\n            const marginX = 20;\n            const availableWidth = Math.max(0, width - marginX * 2);\n            const spacing = count > 1 ? availableWidth / (count - 1) : 0;\n            const bubbles = [];\n            const labels = [];\n            for(let i = 0; i < count; i += 1){\n                const cx = marginX + i * spacing;\n                const cy = height / 2;\n                const letterIndex = i % 26;\n                const letter = String.fromCharCode(65 + letterIndex);\n                bubbles.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Circle, {\n                    x: cx,\n                    y: cy,\n                    radius: bubbleRadius,\n                    stroke: commonProps.stroke,\n                    strokeWidth: commonProps.strokeWidth,\n                    fill: shape.fill\n                }, `${shape.id}-bubble-${i}`, false, {\n                    fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                    lineNumber: 203,\n                    columnNumber: 11\n                }, this));\n                labels.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                    x: cx - bubbleRadius,\n                    y: cy - bubbleRadius,\n                    width: bubbleRadius * 2,\n                    height: bubbleRadius * 2,\n                    text: letter,\n                    fontSize: bubbleRadius,\n                    fill: \"#111827\",\n                    align: \"center\",\n                    verticalAlign: \"middle\"\n                }, `${shape.id}-label-${i}`, false, {\n                    fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                    lineNumber: 215,\n                    columnNumber: 11\n                }, this));\n            }\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Group, {\n                ...commonProps,\n                width: width,\n                height: height,\n                children: [\n                    bubbles,\n                    labels\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                lineNumber: 231,\n                columnNumber: 9\n            }, this);\n        }\n        if (shape.type === \"text\") {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                ...commonProps,\n                text: shape.text,\n                fontSize: shape.fontSize,\n                fill: shape.fill || \"#111827\",\n                strokeWidth: 0,\n                draggable: true\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                lineNumber: 240,\n                columnNumber: 9\n            }, this);\n        }\n        if (shape.type === \"line\") {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Line, {\n                ...commonProps,\n                points: [\n                    0,\n                    0,\n                    shape.length,\n                    0\n                ],\n                fillEnabled: false\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                lineNumber: 253,\n                columnNumber: 9\n            }, this);\n        }\n        // -------- IMAGE SHAPE --------\n        if (shape.type === \"image\") {\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(CanvasImageShape, {\n                shape: shape,\n                setSelectedId: setSelectedId,\n                onChangeShape: onChangeShape,\n                handleDragEnd: handleDragEnd\n            }, shape.id, false, {\n                fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                lineNumber: 264,\n                columnNumber: 9\n            }, this);\n        }\n        // -------- TEXTBOX SHAPE (INLINE EDITABLE) --------\n        if (shape.type === \"textbox\") {\n            const width = shape.width || 200;\n            const height = shape.height || 80;\n            const fontSize = shape.fontSize || 16;\n            const strokeColor = isSelected ? \"#2563eb\" : shape.stroke || \"#111827\";\n            const strokeWidth = shape.strokeWidth ?? 1.5;\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Group, {\n                x: shape.x,\n                y: shape.y,\n                draggable: true,\n                onClick: ()=>setSelectedId(shape.id),\n                onTap: ()=>setSelectedId(shape.id),\n                onDragEnd: (e)=>handleDragEnd(shape, e),\n                onDblClick: ()=>startEditingTextbox(shape),\n                onDblTap: ()=>startEditingTextbox(shape),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Rect, {\n                        width: width,\n                        height: height,\n                        stroke: strokeColor,\n                        strokeWidth: strokeWidth,\n                        fill: shape.fill ?? \"#ffffff\",\n                        cornerRadius: 4\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                        lineNumber: 295,\n                        columnNumber: 11\n                    }, this),\n                    editing?.id !== shape.id && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                        x: 6,\n                        y: 6,\n                        width: width - 12,\n                        height: height - 12,\n                        text: shape.text || \"\",\n                        fontSize: fontSize,\n                        fill: shape.textColor || \"#111827\",\n                        align: \"left\",\n                        verticalAlign: \"top\",\n                        wrap: \"word\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                        lineNumber: 304,\n                        columnNumber: 13\n                    }, this)\n                ]\n            }, shape.id, true, {\n                fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                lineNumber: 284,\n                columnNumber: 9\n            }, this);\n        }\n        // -------- TABLE SHAPE (SIMPLE GRID) --------\n        if (shape.type === \"table\") {\n            const rows = shape.rows || 2;\n            const cols = shape.cols || 2;\n            const cellWidth = shape.cellWidth || 40;\n            const cellHeight = shape.cellHeight || 24;\n            const width = cols * cellWidth;\n            const height = rows * cellHeight;\n            const stroke = isSelected ? \"#2563eb\" : shape.stroke || \"#111827\";\n            const strokeWidth = shape.strokeWidth || 1;\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Group, {\n                x: shape.x,\n                y: shape.y,\n                draggable: true,\n                onClick: ()=>setSelectedId(shape.id),\n                onTap: ()=>setSelectedId(shape.id),\n                onDragEnd: (e)=>handleDragEnd(shape, e),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Rect, {\n                        x: 0,\n                        y: 0,\n                        width: width,\n                        height: height,\n                        stroke: stroke,\n                        strokeWidth: strokeWidth,\n                        fillEnabled: false\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                        lineNumber: 342,\n                        columnNumber: 11\n                    }, this),\n                    Array.from({\n                        length: cols - 1\n                    }).map((_, c)=>{\n                        const x = (c + 1) * cellWidth;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Line, {\n                            points: [\n                                x,\n                                0,\n                                x,\n                                height\n                            ],\n                            stroke: stroke,\n                            strokeWidth: strokeWidth\n                        }, `${shape.id}-v-${c}`, false, {\n                            fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                            lineNumber: 354,\n                            columnNumber: 15\n                        }, this);\n                    }),\n                    Array.from({\n                        length: rows - 1\n                    }).map((_, r)=>{\n                        const y = (r + 1) * cellHeight;\n                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Line, {\n                            points: [\n                                0,\n                                y,\n                                width,\n                                y\n                            ],\n                            stroke: stroke,\n                            strokeWidth: strokeWidth\n                        }, `${shape.id}-h-${r}`, false, {\n                            fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                            lineNumber: 365,\n                            columnNumber: 15\n                        }, this);\n                    })\n                ]\n            }, shape.id, true, {\n                fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                lineNumber: 333,\n                columnNumber: 9\n            }, this);\n        }\n        // -------- GROUPED OMR SHEET (MULTI-COLUMN WITH rowsPerColumn) --------\n        if (shape.type === \"omrGroup\") {\n            const { totalQuestions = 30, rowsPerColumn = 10, bubbleCount = 4, rowGap = 30, colGap = 180, numberOffsetX = 0, bubblesOffsetX = 30, startNumber = 1 } = shape;\n            const stroke = isSelected ? \"#2563eb\" : shape.stroke || \"#111827\";\n            const strokeWidth = shape.strokeWidth || 1.5;\n            const fill = shape.fill || \"#ffffff\";\n            const children = [];\n            const bubbleRadius = 8;\n            const bubbleSpacing = bubbleRadius * 2 + 4;\n            for(let i = 0; i < totalQuestions; i += 1){\n                const qNumber = startNumber + i;\n                const colIndex = Math.floor(i / rowsPerColumn);\n                const rowIndex = i % rowsPerColumn;\n                const baseX = colIndex * colGap;\n                const baseY = rowIndex * rowGap;\n                children.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                    x: baseX + numberOffsetX,\n                    y: baseY,\n                    text: `${qNumber}.`,\n                    fontSize: 14,\n                    fill: \"#111827\"\n                }, `${shape.id}-gnum-${i}`, false, {\n                    fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                    lineNumber: 408,\n                    columnNumber: 11\n                }, this));\n                for(let j = 0; j < bubbleCount; j += 1){\n                    const cx = baseX + bubblesOffsetX + j * bubbleSpacing + bubbleRadius;\n                    const cy = baseY + 10;\n                    const letterIndex = j % 26;\n                    const letter = String.fromCharCode(65 + letterIndex);\n                    children.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Circle, {\n                        x: cx,\n                        y: cy,\n                        radius: bubbleRadius,\n                        stroke: stroke,\n                        strokeWidth: strokeWidth,\n                        fill: fill\n                    }, `${shape.id}-gbubble-${i}-${j}`, false, {\n                        fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                        lineNumber: 426,\n                        columnNumber: 13\n                    }, this));\n                    children.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Text, {\n                        x: cx - bubbleRadius,\n                        y: cy - bubbleRadius,\n                        width: bubbleRadius * 2,\n                        height: bubbleRadius * 2,\n                        text: letter,\n                        fontSize: bubbleRadius,\n                        fill: \"#111827\",\n                        align: \"center\",\n                        verticalAlign: \"middle\"\n                    }, `${shape.id}-glabel-${i}-${j}`, false, {\n                        fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                        lineNumber: 438,\n                        columnNumber: 13\n                    }, this));\n                }\n            }\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Group, {\n                id: shape.id,\n                x: shape.x,\n                y: shape.y,\n                draggable: true,\n                onClick: ()=>setSelectedId(shape.id),\n                onTap: ()=>setSelectedId(shape.id),\n                onDragEnd: (e)=>handleDragEnd(shape, e),\n                children: children\n            }, shape.id, false, {\n                fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                lineNumber: 455,\n                columnNumber: 9\n            }, this);\n        }\n        return null;\n    };\n    /** ---------- RESIZE HANDLES ---------- */ const renderResizeHandles = (shape)=>{\n        const handles = [];\n        if (shape.type === \"circle\") {\n            const hx = shape.x + shape.radius;\n            const hy = shape.y;\n            handles.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Rect, {\n                x: hx - HANDLE_SIZE / 2,\n                y: hy - HANDLE_SIZE / 2,\n                width: HANDLE_SIZE,\n                height: HANDLE_SIZE,\n                fill: \"#ffffff\",\n                stroke: \"#2563eb\",\n                strokeWidth: 1,\n                draggable: true,\n                onDragMove: (e)=>{\n                    const newRadius = Math.max(5, Math.abs(e.target.x() + HANDLE_SIZE / 2 - shape.x));\n                    onChangeShape(shape.id, {\n                        radius: newRadius\n                    });\n                }\n            }, `${shape.id}-handle-circle`, false, {\n                fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                lineNumber: 483,\n                columnNumber: 9\n            }, this));\n        }\n        if (shape.type === \"rect\" || shape.type === \"omrRow\" || shape.type === \"textbox\" || shape.type === \"table\") {\n            const width = shape.type === \"table\" ? (shape.cols || 2) * (shape.cellWidth || 40) : shape.width || 120;\n            const height = shape.type === \"table\" ? (shape.rows || 2) * (shape.cellHeight || 24) : shape.height || 40;\n            const hx = shape.x + width;\n            const hy = shape.y + height;\n            handles.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Rect, {\n                x: hx - HANDLE_SIZE / 2,\n                y: hy - HANDLE_SIZE / 2,\n                width: HANDLE_SIZE,\n                height: HANDLE_SIZE,\n                fill: \"#ffffff\",\n                stroke: \"#2563eb\",\n                strokeWidth: 1,\n                draggable: true,\n                onDragMove: (e)=>{\n                    const cornerX = e.target.x() + HANDLE_SIZE / 2;\n                    const cornerY = e.target.y() + HANDLE_SIZE / 2;\n                    if (shape.type === \"table\") {\n                        const cols = shape.cols || 2;\n                        const rows = shape.rows || 2;\n                        const newTotalWidth = Math.max(20, cornerX - shape.x);\n                        const newTotalHeight = Math.max(20, cornerY - shape.y);\n                        const newCellWidth = Math.max(5, newTotalWidth / cols);\n                        const newCellHeight = Math.max(5, newTotalHeight / rows);\n                        onChangeShape(shape.id, {\n                            cellWidth: newCellWidth,\n                            cellHeight: newCellHeight\n                        });\n                    } else {\n                        const newWidth = Math.max(20, cornerX - shape.x);\n                        const newHeight = Math.max(20, cornerY - shape.y);\n                        onChangeShape(shape.id, {\n                            width: newWidth,\n                            height: newHeight\n                        });\n                    }\n                }\n            }, `${shape.id}-handle-rectlike`, false, {\n                fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                lineNumber: 523,\n                columnNumber: 9\n            }, this));\n        }\n        if (shape.type === \"line\") {\n            const hx = shape.x + shape.length;\n            const hy = shape.y;\n            handles.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Rect, {\n                x: hx - HANDLE_SIZE / 2,\n                y: hy - HANDLE_SIZE / 2,\n                width: HANDLE_SIZE,\n                height: HANDLE_SIZE,\n                fill: \"#ffffff\",\n                stroke: \"#2563eb\",\n                strokeWidth: 1,\n                draggable: true,\n                onDragMove: (e)=>{\n                    const endX = e.target.x() + HANDLE_SIZE / 2;\n                    const newLength = Math.max(10, endX - shape.x);\n                    onChangeShape(shape.id, {\n                        length: newLength\n                    });\n                }\n            }, `${shape.id}-handle-line`, false, {\n                fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                lineNumber: 563,\n                columnNumber: 9\n            }, this));\n        }\n        if (shape.type === \"text\") {\n            const baseFontSize = shape.fontSize || 16;\n            const hx = shape.x + baseFontSize * 2;\n            const hy = shape.y + baseFontSize;\n            handles.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Rect, {\n                x: hx - HANDLE_SIZE / 2,\n                y: hy - HANDLE_SIZE / 2,\n                width: HANDLE_SIZE,\n                height: HANDLE_SIZE,\n                fill: \"#ffffff\",\n                stroke: \"#2563eb\",\n                strokeWidth: 1,\n                draggable: true,\n                onDragMove: (e)=>{\n                    const bottomY = e.target.y() + HANDLE_SIZE / 2;\n                    const newFontSize = Math.max(8, bottomY - shape.y);\n                    onChangeShape(shape.id, {\n                        fontSize: newFontSize\n                    });\n                }\n            }, `${shape.id}-handle-text`, false, {\n                fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                lineNumber: 588,\n                columnNumber: 9\n            }, this));\n        }\n        // image: bottom-right handle changes width & height (keep aspect ratio)\n        if (shape.type === \"image\") {\n            const width = shape.width || 100;\n            const height = shape.height || 100;\n            const aspect = (height || 1) / (width || 1);\n            const hx = shape.x + width;\n            const hy = shape.y + height;\n            handles.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Rect, {\n                x: hx - HANDLE_SIZE / 2,\n                y: hy - HANDLE_SIZE / 2,\n                width: HANDLE_SIZE,\n                height: HANDLE_SIZE,\n                fill: \"#ffffff\",\n                stroke: \"#2563eb\",\n                strokeWidth: 1,\n                draggable: true,\n                onDragMove: (e)=>{\n                    const cornerX = e.target.x() + HANDLE_SIZE / 2;\n                    const newWidth = Math.max(20, cornerX - shape.x);\n                    const newHeight = Math.max(20, newWidth * aspect);\n                    onChangeShape(shape.id, {\n                        width: newWidth,\n                        height: newHeight\n                    });\n                }\n            }, `${shape.id}-handle-image`, false, {\n                fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                lineNumber: 616,\n                columnNumber: 9\n            }, this));\n        }\n        return handles;\n    };\n    const selectedShape = shapes.find((s)=>s.id === selectedId) || null;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        className: \"canvas-wrapper\",\n        onDrop: handleDrop,\n        onDragOver: handleDragOver,\n        children: [\n            editing && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                style: {\n                    position: \"absolute\",\n                    top: editing.y,\n                    left: editing.x,\n                    width: editing.width,\n                    height: editing.height,\n                    fontSize: editing.fontSize,\n                    padding: \"6px\",\n                    margin: 0,\n                    border: \"2px solid #2563eb\",\n                    borderRadius: \"4px\",\n                    background: \"#ffffff\",\n                    resize: \"none\",\n                    outline: \"none\",\n                    zIndex: 9999,\n                    boxSizing: \"border-box\"\n                },\n                autoFocus: true,\n                value: editing.text,\n                onChange: (e)=>setEditing((prev)=>prev ? {\n                            ...prev,\n                            text: e.target.value\n                        } : prev),\n                onBlur: finishEditingTextbox,\n                onKeyDown: (e)=>{\n                    if (e.key === \"Enter\" && !e.shiftKey) {\n                        e.preventDefault();\n                        finishEditingTextbox();\n                    }\n                }\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                lineNumber: 649,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Stage, {\n                ref: stageRef,\n                width: CANVAS_WIDTH,\n                height: CANVAS_HEIGHT,\n                className: \"canvas-stage\",\n                onMouseDown: handleStageMouseDown,\n                onTouchStart: handleStageMouseDown,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Layer, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Rect, {\n                                x: 0,\n                                y: 0,\n                                width: CANVAS_WIDTH,\n                                height: CANVAS_HEIGHT,\n                                cornerRadius: 12,\n                                fill: \"#ffffff\",\n                                stroke: \"#e5e7eb\",\n                                strokeWidth: 2\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                                lineNumber: 691,\n                                columnNumber: 11\n                            }, this),\n                            shapes.map((shape)=>renderShape(shape, shape.id === selectedId))\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                        lineNumber: 690,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_konva__WEBPACK_IMPORTED_MODULE_2__.Layer, {\n                        children: selectedShape && renderResizeHandles(selectedShape)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                        lineNumber: 705,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n                lineNumber: 682,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\Jenn Quan\\\\Downloads\\\\OMR\\\\OMR\\\\components\\\\CanvasStage.js\",\n        lineNumber: 642,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxHQUFHQSxJQUFJOzRCQUFFNUcsTUFBTXZDLEVBQUVVLE1BQU0sQ0FBQ3VJLEtBQUs7d0JBQUMsSUFBSUU7Z0JBRW5FQyxRQUFRM0c7Z0JBQ1I0RyxXQUFXLENBQUNySjtvQkFDVixJQUFJQSxFQUFFNkMsR0FBRyxLQUFLLFdBQVcsQ0FBQzdDLEVBQUVzSixRQUFRLEVBQUU7d0JBQ3BDdEosRUFBRWdCLGNBQWM7d0JBQ2hCeUI7b0JBQ0Y7Z0JBQ0Y7Ozs7OzswQkFJSiw4REFBQzVFLDhDQUFLQTtnQkFDSm1LLEtBQUszSDtnQkFDTGpCLE9BQU9kO2dCQUNQZSxRQUFRZDtnQkFDUjBKLFdBQVU7Z0JBQ1ZzQixhQUFhOUk7Z0JBQ2IrSSxjQUFjL0k7O2tDQUVkLDhEQUFDM0MsOENBQUtBOzswQ0FDSiw4REFBQ0MsNkNBQUlBO2dDQUNIMEIsR0FBRztnQ0FDSEMsR0FBRztnQ0FDSE4sT0FBT2Q7Z0NBQ1BlLFFBQVFkO2dDQUNSMkUsY0FBYztnQ0FDZEYsTUFBSztnQ0FDTEYsUUFBTztnQ0FDUEMsYUFBYTs7Ozs7OzRCQUdkN0MsT0FBT2dGLEdBQUcsQ0FBQyxDQUFDeEcsUUFBVWdFLFlBQVloRSxPQUFPQSxNQUFNYyxFQUFFLEtBQUtXOzs7Ozs7O2tDQUd6RCw4REFBQ3JDLDhDQUFLQTtrQ0FDSDhKLGlCQUFpQnJCLG9CQUFvQnFCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLaEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vbXItZGVzaWduZXItZG5kLWpzLy4vY29tcG9uZW50cy9DYW52YXNTdGFnZS5qcz84YzRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJlZiwgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7XG4gIFN0YWdlLFxuICBMYXllcixcbiAgUmVjdCxcbiAgQ2lyY2xlLFxuICBHcm91cCxcbiAgVGV4dCxcbiAgTGluZSxcbiAgSW1hZ2UgYXMgS29udmFJbWFnZSxcbn0gZnJvbSAncmVhY3Qta29udmEnO1xuXG5jb25zdCBDQU5WQVNfV0lEVEggPSA4MDA7XG5jb25zdCBDQU5WQVNfSEVJR0hUID0gMTEyMDtcbmNvbnN0IEhBTkRMRV9TSVpFID0gODtcblxuLy8gSGVscGVyIGNvbXBvbmVudCBmb3IgcmVuZGVyaW5nIGltYWdlIHNoYXBlc1xuZnVuY3Rpb24gQ2FudmFzSW1hZ2VTaGFwZSh7IHNoYXBlLCBzZXRTZWxlY3RlZElkLCBvbkNoYW5nZVNoYXBlLCBoYW5kbGVEcmFnRW5kIH0pIHtcbiAgY29uc3QgW2ltYWdlT2JqLCBzZXRJbWFnZU9ial0gPSB1c2VTdGF0ZShudWxsKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc2hhcGUuc3JjKSByZXR1cm47XG4gICAgY29uc3QgaW1nID0gbmV3IHdpbmRvdy5JbWFnZSgpO1xuICAgIGltZy5zcmMgPSBzaGFwZS5zcmM7XG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIHNldEltYWdlT2JqKGltZyk7XG5cbiAgICAgIC8vIGlmIHdpZHRoL2hlaWdodCBtaXNzaW5nLCBpbml0aWFsaXplIGJhc2VkIG9uIGltYWdlXG4gICAgICBpZiAoIXNoYXBlLndpZHRoIHx8ICFzaGFwZS5oZWlnaHQpIHtcbiAgICAgICAgY29uc3QgbWF4V2lkdGggPSAyMDA7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gaW1nLndpZHRoID4gbWF4V2lkdGggPyBtYXhXaWR0aCAvIGltZy53aWR0aCA6IDE7XG4gICAgICAgIGNvbnN0IHdpZHRoID0gaW1nLndpZHRoICogc2NhbGU7XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IGltZy5oZWlnaHQgKiBzY2FsZTtcbiAgICAgICAgb25DaGFuZ2VTaGFwZShzaGFwZS5pZCwgeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgICAgfVxuICAgIH07XG4gIH0sIFtzaGFwZS5zcmNdKTtcblxuICBpZiAoIWltYWdlT2JqKSByZXR1cm4gbnVsbDtcblxuICByZXR1cm4gKFxuICAgIDxLb252YUltYWdlXG4gICAgICB4PXtzaGFwZS54fVxuICAgICAgeT17c2hhcGUueX1cbiAgICAgIHdpZHRoPXtzaGFwZS53aWR0aH1cbiAgICAgIGhlaWdodD17c2hhcGUuaGVpZ2h0fVxuICAgICAgaW1hZ2U9e2ltYWdlT2JqfVxuICAgICAgZHJhZ2dhYmxlXG4gICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZElkKHNoYXBlLmlkKX1cbiAgICAgIG9uVGFwPXsoKSA9PiBzZXRTZWxlY3RlZElkKHNoYXBlLmlkKX1cbiAgICAgIG9uRHJhZ0VuZD17KGUpID0+IGhhbmRsZURyYWdFbmQoc2hhcGUsIGUpfVxuICAgIC8+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENhbnZhc1N0YWdlKHtcbiAgc2hhcGVzLFxuICBzZWxlY3RlZElkLFxuICBzZXRTZWxlY3RlZElkLFxuICBvbkNoYW5nZVNoYXBlLFxuICBvbkRyb3BOZXdTaGFwZSxcbiAgc3RhZ2VSZWYsXG59KSB7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZihudWxsKTtcblxuICAvLyBJbmxpbmUgdGV4dGJveCBlZGl0aW5nIHN0YXRlXG4gIGNvbnN0IFtlZGl0aW5nLCBzZXRFZGl0aW5nXSA9IHVzZVN0YXRlKG51bGwpOyAvLyB7aWQsIHRleHQsIHgsIHksIHdpZHRoLCBoZWlnaHQsIGZvbnRTaXplfVxuXG4gIGNvbnN0IGhhbmRsZVN0YWdlTW91c2VEb3duID0gKGUpID0+IHtcbiAgICAvLyBjbGlja2VkIG9uIGVtcHR5IGFyZWEgLSBjbGVhciBzZWxlY3Rpb24gKHVubGVzcyB3ZSBhcmUgZWRpdGluZylcbiAgICBpZiAoZWRpdGluZykgcmV0dXJuO1xuICAgIGlmIChlLnRhcmdldCA9PT0gZS50YXJnZXQuZ2V0U3RhZ2UoKSkge1xuICAgICAgc2V0U2VsZWN0ZWRJZChudWxsKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRHJhZ0VuZCA9IChzaGFwZSwgZSkgPT4ge1xuICAgIGNvbnN0IG5vZGUgPSBlLnRhcmdldDtcbiAgICBjb25zdCBuZXdYID0gbm9kZS54KCk7XG4gICAgY29uc3QgbmV3WSA9IG5vZGUueSgpO1xuICAgIG9uQ2hhbmdlU2hhcGUoc2hhcGUuaWQsIHsgeDogbmV3WCwgeTogbmV3WSB9KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEcm9wID0gKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBjb25zdCB0eXBlID0gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgnc2hhcGUtdHlwZScpO1xuICAgIGlmICghdHlwZSkgcmV0dXJuO1xuXG4gICAgLy8gVXNlIHN0YWdlIGNvbnRhaW5lciByZWN0IChzbyBkcm9wIHBvc2l0aW9uIGlzIGNvcnJlY3QgZXZlbiB3aGVuIGNlbnRlcmVkKVxuICAgIGNvbnN0IHN0YWdlQ29udGFpbmVyID0gc3RhZ2VSZWYuY3VycmVudD8uY29udGFpbmVyPy4oKTtcbiAgICBjb25zdCBzdGFnZVJlY3QgPSBzdGFnZUNvbnRhaW5lcj8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0Py4oKTtcbiAgICBjb25zdCBmYWxsYmFja1JlY3QgPSBjb250YWluZXJSZWYuY3VycmVudD8uZ2V0Qm91bmRpbmdDbGllbnRSZWN0Py4oKTtcblxuICAgIGNvbnN0IHJlY3QgPSBzdGFnZVJlY3QgfHwgZmFsbGJhY2tSZWN0O1xuICAgIGlmICghcmVjdCkgcmV0dXJuO1xuXG4gICAgbGV0IHggPSBlLmNsaWVudFggLSByZWN0LmxlZnQ7XG4gICAgbGV0IHkgPSBlLmNsaWVudFkgLSByZWN0LnRvcDtcblxuICAgIC8vIGNsYW1wIGluc2lkZSBzdGFnZSBib3VuZHNcbiAgICB4ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oQ0FOVkFTX1dJRFRILCB4KSk7XG4gICAgeSA9IE1hdGgubWF4KDAsIE1hdGgubWluKENBTlZBU19IRUlHSFQsIHkpKTtcblxuICAgIGlmICh0eXBlID09PSAnaW1hZ2UnKSB7XG4gICAgICBjb25zdCBzcmMgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCdpbWFnZS1zcmMnKTtcbiAgICAgIGlmICghc3JjKSByZXR1cm47XG4gICAgICBvbkRyb3BOZXdTaGFwZSh0eXBlLCB4LCB5LCB7IHNyYyB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvbkRyb3BOZXdTaGFwZSh0eXBlLCB4LCB5KTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVEcmFnT3ZlciA9IChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9O1xuXG4gIC8qKiAtLS0tLS0tLS0tIElOTElORSBFRElUSU5HIEZPUiBURVhUQk9YIC0tLS0tLS0tLS0gKi9cblxuICBjb25zdCBzdGFydEVkaXRpbmdUZXh0Ym94ID0gKHNoYXBlKSA9PiB7XG4gICAgaWYgKCFjb250YWluZXJSZWYuY3VycmVudCB8fCAhc3RhZ2VSZWYuY3VycmVudCkgcmV0dXJuO1xuXG4gICAgY29uc3Qgd3JhcHBlclJlY3QgPSBjb250YWluZXJSZWYuY3VycmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBjb25zdCBzdGFnZUNvbnRhaW5lciA9IHN0YWdlUmVmLmN1cnJlbnQuY29udGFpbmVyKCk7XG4gICAgY29uc3Qgc3RhZ2VSZWN0ID0gc3RhZ2VDb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAvLyBvZmZzZXQgb2Ygc3RhZ2UgaW5zaWRlIHdyYXBwZXIgKGJlY2F1c2UgaXQncyBjZW50ZXJlZClcbiAgICBjb25zdCBvZmZzZXRYID0gc3RhZ2VSZWN0LmxlZnQgLSB3cmFwcGVyUmVjdC5sZWZ0O1xuICAgIGNvbnN0IG9mZnNldFkgPSBzdGFnZVJlY3QudG9wIC0gd3JhcHBlclJlY3QudG9wO1xuXG4gICAgc2V0RWRpdGluZyh7XG4gICAgICBpZDogc2hhcGUuaWQsXG4gICAgICB0ZXh0OiBzaGFwZS50ZXh0IHx8ICcnLFxuICAgICAgeDogb2Zmc2V0WCArIHNoYXBlLngsXG4gICAgICB5OiBvZmZzZXRZICsgc2hhcGUueSxcbiAgICAgIHdpZHRoOiBzaGFwZS53aWR0aCB8fCAyMDAsXG4gICAgICBoZWlnaHQ6IHNoYXBlLmhlaWdodCB8fCA4MCxcbiAgICAgIGZvbnRTaXplOiBzaGFwZS5mb250U2l6ZSB8fCAxNixcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBmaW5pc2hFZGl0aW5nVGV4dGJveCA9ICgpID0+IHtcbiAgICBpZiAoIWVkaXRpbmcpIHJldHVybjtcbiAgICBvbkNoYW5nZVNoYXBlKGVkaXRpbmcuaWQsIHsgdGV4dDogZWRpdGluZy50ZXh0IH0pO1xuICAgIHNldEVkaXRpbmcobnVsbCk7XG4gIH07XG5cbiAgLyoqIC0tLS0tLS0tLS0gU0hBUEUgUkVOREVSSU5HIC0tLS0tLS0tLS0gKi9cblxuICBjb25zdCByZW5kZXJTaGFwZSA9IChzaGFwZSwgaXNTZWxlY3RlZCkgPT4ge1xuICAgIC8vIGNvbW1vbiBzdHlsaW5nIGZvciBiYXNpYyBzaGFwZXNcbiAgICBjb25zdCBjb21tb25Qcm9wcyA9IHtcbiAgICAgIGtleTogc2hhcGUuaWQsXG4gICAgICBpZDogc2hhcGUuaWQsXG4gICAgICB4OiBzaGFwZS54LFxuICAgICAgeTogc2hhcGUueSxcbiAgICAgIHN0cm9rZTogaXNTZWxlY3RlZCA/ICcjMjU2M2ViJyA6IHNoYXBlLnN0cm9rZSxcbiAgICAgIHN0cm9rZVdpZHRoOiBzaGFwZS5zdHJva2VXaWR0aCxcbiAgICAgIGZpbGw6IHNoYXBlLmZpbGwsXG4gICAgICBkcmFnZ2FibGU6IHRydWUsXG4gICAgICBvbkNsaWNrOiAoKSA9PiBzZXRTZWxlY3RlZElkKHNoYXBlLmlkKSxcbiAgICAgIG9uVGFwOiAoKSA9PiBzZXRTZWxlY3RlZElkKHNoYXBlLmlkKSxcbiAgICAgIG9uRHJhZ0VuZDogKGUpID0+IGhhbmRsZURyYWdFbmQoc2hhcGUsIGUpLFxuICAgIH07XG5cbiAgICBpZiAoc2hhcGUudHlwZSA9PT0gJ2NpcmNsZScpIHtcbiAgICAgIHJldHVybiA8Q2lyY2xlIHsuLi5jb21tb25Qcm9wc30gcmFkaXVzPXtzaGFwZS5yYWRpdXN9IC8+O1xuICAgIH1cblxuICAgIGlmIChzaGFwZS50eXBlID09PSAncmVjdCcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxSZWN0XG4gICAgICAgICAgey4uLmNvbW1vblByb3BzfVxuICAgICAgICAgIHdpZHRoPXtzaGFwZS53aWR0aH1cbiAgICAgICAgICBoZWlnaHQ9e3NoYXBlLmhlaWdodH1cbiAgICAgICAgICBjb3JuZXJSYWRpdXM9ezR9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChzaGFwZS50eXBlID09PSAnb21yUm93Jykge1xuICAgICAgY29uc3QgY291bnQgPSBzaGFwZS5jb3VudCB8fCA0O1xuICAgICAgY29uc3Qgd2lkdGggPSBzaGFwZS53aWR0aCB8fCAxNjA7XG4gICAgICBjb25zdCBoZWlnaHQgPSBzaGFwZS5oZWlnaHQgfHwgMzQ7XG5cbiAgICAgIGNvbnN0IGJ1YmJsZVJhZGl1cyA9IE1hdGgubWluKDEyLCBoZWlnaHQgLyAyIC0gNCk7XG4gICAgICBjb25zdCBtYXJnaW5YID0gMjA7XG4gICAgICBjb25zdCBhdmFpbGFibGVXaWR0aCA9IE1hdGgubWF4KDAsIHdpZHRoIC0gbWFyZ2luWCAqIDIpO1xuICAgICAgY29uc3Qgc3BhY2luZyA9IGNvdW50ID4gMSA/IGF2YWlsYWJsZVdpZHRoIC8gKGNvdW50IC0gMSkgOiAwO1xuXG4gICAgICBjb25zdCBidWJibGVzID0gW107XG4gICAgICBjb25zdCBsYWJlbHMgPSBbXTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGN4ID0gbWFyZ2luWCArIGkgKiBzcGFjaW5nO1xuICAgICAgICBjb25zdCBjeSA9IGhlaWdodCAvIDI7XG5cbiAgICAgICAgY29uc3QgbGV0dGVySW5kZXggPSBpICUgMjY7XG4gICAgICAgIGNvbnN0IGxldHRlciA9IFN0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBsZXR0ZXJJbmRleCk7XG5cbiAgICAgICAgYnViYmxlcy5wdXNoKFxuICAgICAgICAgIDxDaXJjbGVcbiAgICAgICAgICAgIGtleT17YCR7c2hhcGUuaWR9LWJ1YmJsZS0ke2l9YH1cbiAgICAgICAgICAgIHg9e2N4fVxuICAgICAgICAgICAgeT17Y3l9XG4gICAgICAgICAgICByYWRpdXM9e2J1YmJsZVJhZGl1c31cbiAgICAgICAgICAgIHN0cm9rZT17Y29tbW9uUHJvcHMuc3Ryb2tlfVxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e2NvbW1vblByb3BzLnN0cm9rZVdpZHRofVxuICAgICAgICAgICAgZmlsbD17c2hhcGUuZmlsbH1cbiAgICAgICAgICAvPixcbiAgICAgICAgKTtcblxuICAgICAgICBsYWJlbHMucHVzaChcbiAgICAgICAgICA8VGV4dFxuICAgICAgICAgICAga2V5PXtgJHtzaGFwZS5pZH0tbGFiZWwtJHtpfWB9XG4gICAgICAgICAgICB4PXtjeCAtIGJ1YmJsZVJhZGl1c31cbiAgICAgICAgICAgIHk9e2N5IC0gYnViYmxlUmFkaXVzfVxuICAgICAgICAgICAgd2lkdGg9e2J1YmJsZVJhZGl1cyAqIDJ9XG4gICAgICAgICAgICBoZWlnaHQ9e2J1YmJsZVJhZGl1cyAqIDJ9XG4gICAgICAgICAgICB0ZXh0PXtsZXR0ZXJ9XG4gICAgICAgICAgICBmb250U2l6ZT17YnViYmxlUmFkaXVzfVxuICAgICAgICAgICAgZmlsbD1cIiMxMTE4MjdcIlxuICAgICAgICAgICAgYWxpZ249XCJjZW50ZXJcIlxuICAgICAgICAgICAgdmVydGljYWxBbGlnbj1cIm1pZGRsZVwiXG4gICAgICAgICAgLz4sXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxHcm91cCB7Li4uY29tbW9uUHJvcHN9IHdpZHRoPXt3aWR0aH0gaGVpZ2h0PXtoZWlnaHR9PlxuICAgICAgICAgIHtidWJibGVzfVxuICAgICAgICAgIHtsYWJlbHN9XG4gICAgICAgIDwvR3JvdXA+XG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChzaGFwZS50eXBlID09PSAndGV4dCcpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxUZXh0XG4gICAgICAgICAgey4uLmNvbW1vblByb3BzfVxuICAgICAgICAgIHRleHQ9e3NoYXBlLnRleHR9XG4gICAgICAgICAgZm9udFNpemU9e3NoYXBlLmZvbnRTaXplfVxuICAgICAgICAgIGZpbGw9e3NoYXBlLmZpbGwgfHwgJyMxMTE4MjcnfVxuICAgICAgICAgIHN0cm9rZVdpZHRoPXswfVxuICAgICAgICAgIGRyYWdnYWJsZVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoc2hhcGUudHlwZSA9PT0gJ2xpbmUnKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8TGluZVxuICAgICAgICAgIHsuLi5jb21tb25Qcm9wc31cbiAgICAgICAgICBwb2ludHM9e1swLCAwLCBzaGFwZS5sZW5ndGgsIDBdfVxuICAgICAgICAgIGZpbGxFbmFibGVkPXtmYWxzZX1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0gSU1BR0UgU0hBUEUgLS0tLS0tLS1cbiAgICBpZiAoc2hhcGUudHlwZSA9PT0gJ2ltYWdlJykge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPENhbnZhc0ltYWdlU2hhcGVcbiAgICAgICAgICBrZXk9e3NoYXBlLmlkfVxuICAgICAgICAgIHNoYXBlPXtzaGFwZX1cbiAgICAgICAgICBzZXRTZWxlY3RlZElkPXtzZXRTZWxlY3RlZElkfVxuICAgICAgICAgIG9uQ2hhbmdlU2hhcGU9e29uQ2hhbmdlU2hhcGV9XG4gICAgICAgICAgaGFuZGxlRHJhZ0VuZD17aGFuZGxlRHJhZ0VuZH1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0gVEVYVEJPWCBTSEFQRSAoSU5MSU5FIEVESVRBQkxFKSAtLS0tLS0tLVxuICAgIGlmIChzaGFwZS50eXBlID09PSAndGV4dGJveCcpIHtcbiAgICAgIGNvbnN0IHdpZHRoID0gc2hhcGUud2lkdGggfHwgMjAwO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gc2hhcGUuaGVpZ2h0IHx8IDgwO1xuICAgICAgY29uc3QgZm9udFNpemUgPSBzaGFwZS5mb250U2l6ZSB8fCAxNjtcblxuICAgICAgY29uc3Qgc3Ryb2tlQ29sb3IgPSBpc1NlbGVjdGVkID8gJyMyNTYzZWInIDogKHNoYXBlLnN0cm9rZSB8fCAnIzExMTgyNycpO1xuICAgICAgY29uc3Qgc3Ryb2tlV2lkdGggPSBzaGFwZS5zdHJva2VXaWR0aCA/PyAxLjU7XG5cbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxHcm91cFxuICAgICAgICAgIGtleT17c2hhcGUuaWR9XG4gICAgICAgICAgeD17c2hhcGUueH1cbiAgICAgICAgICB5PXtzaGFwZS55fVxuICAgICAgICAgIGRyYWdnYWJsZVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkSWQoc2hhcGUuaWQpfVxuICAgICAgICAgIG9uVGFwPXsoKSA9PiBzZXRTZWxlY3RlZElkKHNoYXBlLmlkKX1cbiAgICAgICAgICBvbkRyYWdFbmQ9eyhlKSA9PiBoYW5kbGVEcmFnRW5kKHNoYXBlLCBlKX1cbiAgICAgICAgICBvbkRibENsaWNrPXsoKSA9PiBzdGFydEVkaXRpbmdUZXh0Ym94KHNoYXBlKX1cbiAgICAgICAgICBvbkRibFRhcD17KCkgPT4gc3RhcnRFZGl0aW5nVGV4dGJveChzaGFwZSl9XG4gICAgICAgID5cbiAgICAgICAgICA8UmVjdFxuICAgICAgICAgICAgd2lkdGg9e3dpZHRofVxuICAgICAgICAgICAgaGVpZ2h0PXtoZWlnaHR9XG4gICAgICAgICAgICBzdHJva2U9e3N0cm9rZUNvbG9yfVxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e3N0cm9rZVdpZHRofVxuICAgICAgICAgICAgZmlsbD17c2hhcGUuZmlsbCA/PyAnI2ZmZmZmZid9XG4gICAgICAgICAgICBjb3JuZXJSYWRpdXM9ezR9XG4gICAgICAgICAgLz5cbiAgICAgICAgICB7ZWRpdGluZz8uaWQgIT09IHNoYXBlLmlkICYmIChcbiAgICAgICAgICAgIDxUZXh0XG4gICAgICAgICAgICAgIHg9ezZ9XG4gICAgICAgICAgICAgIHk9ezZ9XG4gICAgICAgICAgICAgIHdpZHRoPXt3aWR0aCAtIDEyfVxuICAgICAgICAgICAgICBoZWlnaHQ9e2hlaWdodCAtIDEyfVxuICAgICAgICAgICAgICB0ZXh0PXtzaGFwZS50ZXh0IHx8ICcnfVxuICAgICAgICAgICAgICBmb250U2l6ZT17Zm9udFNpemV9XG4gICAgICAgICAgICAgIGZpbGw9e3NoYXBlLnRleHRDb2xvciB8fCAnIzExMTgyNyd9XG4gICAgICAgICAgICAgIGFsaWduPVwibGVmdFwiXG4gICAgICAgICAgICAgIHZlcnRpY2FsQWxpZ249XCJ0b3BcIlxuICAgICAgICAgICAgICB3cmFwPVwid29yZFwiXG4gICAgICAgICAgICAvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvR3JvdXA+XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tIFRBQkxFIFNIQVBFIChTSU1QTEUgR1JJRCkgLS0tLS0tLS1cbiAgICBpZiAoc2hhcGUudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgY29uc3Qgcm93cyA9IHNoYXBlLnJvd3MgfHwgMjtcbiAgICAgIGNvbnN0IGNvbHMgPSBzaGFwZS5jb2xzIHx8IDI7XG4gICAgICBjb25zdCBjZWxsV2lkdGggPSBzaGFwZS5jZWxsV2lkdGggfHwgNDA7XG4gICAgICBjb25zdCBjZWxsSGVpZ2h0ID0gc2hhcGUuY2VsbEhlaWdodCB8fCAyNDtcbiAgICAgIGNvbnN0IHdpZHRoID0gY29scyAqIGNlbGxXaWR0aDtcbiAgICAgIGNvbnN0IGhlaWdodCA9IHJvd3MgKiBjZWxsSGVpZ2h0O1xuICAgICAgY29uc3Qgc3Ryb2tlID0gaXNTZWxlY3RlZCA/ICcjMjU2M2ViJyA6IChzaGFwZS5zdHJva2UgfHwgJyMxMTE4MjcnKTtcbiAgICAgIGNvbnN0IHN0cm9rZVdpZHRoID0gc2hhcGUuc3Ryb2tlV2lkdGggfHwgMTtcblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEdyb3VwXG4gICAgICAgICAga2V5PXtzaGFwZS5pZH1cbiAgICAgICAgICB4PXtzaGFwZS54fVxuICAgICAgICAgIHk9e3NoYXBlLnl9XG4gICAgICAgICAgZHJhZ2dhYmxlXG4gICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRJZChzaGFwZS5pZCl9XG4gICAgICAgICAgb25UYXA9eygpID0+IHNldFNlbGVjdGVkSWQoc2hhcGUuaWQpfVxuICAgICAgICAgIG9uRHJhZ0VuZD17KGUpID0+IGhhbmRsZURyYWdFbmQoc2hhcGUsIGUpfVxuICAgICAgICA+XG4gICAgICAgICAgPFJlY3RcbiAgICAgICAgICAgIHg9ezB9XG4gICAgICAgICAgICB5PXswfVxuICAgICAgICAgICAgd2lkdGg9e3dpZHRofVxuICAgICAgICAgICAgaGVpZ2h0PXtoZWlnaHR9XG4gICAgICAgICAgICBzdHJva2U9e3N0cm9rZX1cbiAgICAgICAgICAgIHN0cm9rZVdpZHRoPXtzdHJva2VXaWR0aH1cbiAgICAgICAgICAgIGZpbGxFbmFibGVkPXtmYWxzZX1cbiAgICAgICAgICAvPlxuICAgICAgICAgIHtBcnJheS5mcm9tKHsgbGVuZ3RoOiBjb2xzIC0gMSB9KS5tYXAoKF8sIGMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHggPSAoYyArIDEpICogY2VsbFdpZHRoO1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPExpbmVcbiAgICAgICAgICAgICAgICBrZXk9e2Ake3NoYXBlLmlkfS12LSR7Y31gfVxuICAgICAgICAgICAgICAgIHBvaW50cz17W3gsIDAsIHgsIGhlaWdodF19XG4gICAgICAgICAgICAgICAgc3Ryb2tlPXtzdHJva2V9XG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e3N0cm9rZVdpZHRofVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgICB7QXJyYXkuZnJvbSh7IGxlbmd0aDogcm93cyAtIDEgfSkubWFwKChfLCByKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB5ID0gKHIgKyAxKSAqIGNlbGxIZWlnaHQ7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8TGluZVxuICAgICAgICAgICAgICAgIGtleT17YCR7c2hhcGUuaWR9LWgtJHtyfWB9XG4gICAgICAgICAgICAgICAgcG9pbnRzPXtbMCwgeSwgd2lkdGgsIHldfVxuICAgICAgICAgICAgICAgIHN0cm9rZT17c3Ryb2tlfVxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPXtzdHJva2VXaWR0aH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSl9XG4gICAgICAgIDwvR3JvdXA+XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tIEdST1VQRUQgT01SIFNIRUVUIChNVUxUSS1DT0xVTU4gV0lUSCByb3dzUGVyQ29sdW1uKSAtLS0tLS0tLVxuICAgIGlmIChzaGFwZS50eXBlID09PSAnb21yR3JvdXAnKSB7XG4gICAgICBjb25zdCB7XG4gICAgICAgIHRvdGFsUXVlc3Rpb25zID0gMzAsXG4gICAgICAgIHJvd3NQZXJDb2x1bW4gPSAxMCxcbiAgICAgICAgYnViYmxlQ291bnQgPSA0LFxuICAgICAgICByb3dHYXAgPSAzMCxcbiAgICAgICAgY29sR2FwID0gMTgwLFxuICAgICAgICBudW1iZXJPZmZzZXRYID0gMCxcbiAgICAgICAgYnViYmxlc09mZnNldFggPSAzMCxcbiAgICAgICAgc3RhcnROdW1iZXIgPSAxLFxuICAgICAgfSA9IHNoYXBlO1xuXG4gICAgICBjb25zdCBzdHJva2UgPSBpc1NlbGVjdGVkID8gJyMyNTYzZWInIDogKHNoYXBlLnN0cm9rZSB8fCAnIzExMTgyNycpO1xuICAgICAgY29uc3Qgc3Ryb2tlV2lkdGggPSBzaGFwZS5zdHJva2VXaWR0aCB8fCAxLjU7XG4gICAgICBjb25zdCBmaWxsID0gc2hhcGUuZmlsbCB8fCAnI2ZmZmZmZic7XG5cbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gW107XG4gICAgICBjb25zdCBidWJibGVSYWRpdXMgPSA4O1xuICAgICAgY29uc3QgYnViYmxlU3BhY2luZyA9IGJ1YmJsZVJhZGl1cyAqIDIgKyA0O1xuXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRvdGFsUXVlc3Rpb25zOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3QgcU51bWJlciA9IHN0YXJ0TnVtYmVyICsgaTtcblxuICAgICAgICBjb25zdCBjb2xJbmRleCA9IE1hdGguZmxvb3IoaSAvIHJvd3NQZXJDb2x1bW4pO1xuICAgICAgICBjb25zdCByb3dJbmRleCA9IGkgJSByb3dzUGVyQ29sdW1uO1xuXG4gICAgICAgIGNvbnN0IGJhc2VYID0gY29sSW5kZXggKiBjb2xHYXA7XG4gICAgICAgIGNvbnN0IGJhc2VZID0gcm93SW5kZXggKiByb3dHYXA7XG5cbiAgICAgICAgY2hpbGRyZW4ucHVzaChcbiAgICAgICAgICA8VGV4dFxuICAgICAgICAgICAga2V5PXtgJHtzaGFwZS5pZH0tZ251bS0ke2l9YH1cbiAgICAgICAgICAgIHg9e2Jhc2VYICsgbnVtYmVyT2Zmc2V0WH1cbiAgICAgICAgICAgIHk9e2Jhc2VZfVxuICAgICAgICAgICAgdGV4dD17YCR7cU51bWJlcn0uYH1cbiAgICAgICAgICAgIGZvbnRTaXplPXsxNH1cbiAgICAgICAgICAgIGZpbGw9XCIjMTExODI3XCJcbiAgICAgICAgICAvPixcbiAgICAgICAgKTtcblxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGJ1YmJsZUNvdW50OyBqICs9IDEpIHtcbiAgICAgICAgICBjb25zdCBjeCA9IGJhc2VYICsgYnViYmxlc09mZnNldFggKyBqICogYnViYmxlU3BhY2luZyArIGJ1YmJsZVJhZGl1cztcbiAgICAgICAgICBjb25zdCBjeSA9IGJhc2VZICsgMTA7XG5cbiAgICAgICAgICBjb25zdCBsZXR0ZXJJbmRleCA9IGogJSAyNjtcbiAgICAgICAgICBjb25zdCBsZXR0ZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDY1ICsgbGV0dGVySW5kZXgpO1xuXG4gICAgICAgICAgY2hpbGRyZW4ucHVzaChcbiAgICAgICAgICAgIDxDaXJjbGVcbiAgICAgICAgICAgICAga2V5PXtgJHtzaGFwZS5pZH0tZ2J1YmJsZS0ke2l9LSR7an1gfVxuICAgICAgICAgICAgICB4PXtjeH1cbiAgICAgICAgICAgICAgeT17Y3l9XG4gICAgICAgICAgICAgIHJhZGl1cz17YnViYmxlUmFkaXVzfVxuICAgICAgICAgICAgICBzdHJva2U9e3N0cm9rZX1cbiAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9e3N0cm9rZVdpZHRofVxuICAgICAgICAgICAgICBmaWxsPXtmaWxsfVxuICAgICAgICAgICAgLz4sXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGNoaWxkcmVuLnB1c2goXG4gICAgICAgICAgICA8VGV4dFxuICAgICAgICAgICAgICBrZXk9e2Ake3NoYXBlLmlkfS1nbGFiZWwtJHtpfS0ke2p9YH1cbiAgICAgICAgICAgICAgeD17Y3ggLSBidWJibGVSYWRpdXN9XG4gICAgICAgICAgICAgIHk9e2N5IC0gYnViYmxlUmFkaXVzfVxuICAgICAgICAgICAgICB3aWR0aD17YnViYmxlUmFkaXVzICogMn1cbiAgICAgICAgICAgICAgaGVpZ2h0PXtidWJibGVSYWRpdXMgKiAyfVxuICAgICAgICAgICAgICB0ZXh0PXtsZXR0ZXJ9XG4gICAgICAgICAgICAgIGZvbnRTaXplPXtidWJibGVSYWRpdXN9XG4gICAgICAgICAgICAgIGZpbGw9XCIjMTExODI3XCJcbiAgICAgICAgICAgICAgYWxpZ249XCJjZW50ZXJcIlxuICAgICAgICAgICAgICB2ZXJ0aWNhbEFsaWduPVwibWlkZGxlXCJcbiAgICAgICAgICAgIC8+LFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIChcbiAgICAgICAgPEdyb3VwXG4gICAgICAgICAga2V5PXtzaGFwZS5pZH1cbiAgICAgICAgICBpZD17c2hhcGUuaWR9XG4gICAgICAgICAgeD17c2hhcGUueH1cbiAgICAgICAgICB5PXtzaGFwZS55fVxuICAgICAgICAgIGRyYWdnYWJsZVxuICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkSWQoc2hhcGUuaWQpfVxuICAgICAgICAgIG9uVGFwPXsoKSA9PiBzZXRTZWxlY3RlZElkKHNoYXBlLmlkKX1cbiAgICAgICAgICBvbkRyYWdFbmQ9eyhlKSA9PiBoYW5kbGVEcmFnRW5kKHNoYXBlLCBlKX1cbiAgICAgICAgPlxuICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9Hcm91cD5cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgLyoqIC0tLS0tLS0tLS0gUkVTSVpFIEhBTkRMRVMgLS0tLS0tLS0tLSAqL1xuXG4gIGNvbnN0IHJlbmRlclJlc2l6ZUhhbmRsZXMgPSAoc2hhcGUpID0+IHtcbiAgICBjb25zdCBoYW5kbGVzID0gW107XG5cbiAgICBpZiAoc2hhcGUudHlwZSA9PT0gJ2NpcmNsZScpIHtcbiAgICAgIGNvbnN0IGh4ID0gc2hhcGUueCArIHNoYXBlLnJhZGl1cztcbiAgICAgIGNvbnN0IGh5ID0gc2hhcGUueTtcblxuICAgICAgaGFuZGxlcy5wdXNoKFxuICAgICAgICA8UmVjdFxuICAgICAgICAgIGtleT17YCR7c2hhcGUuaWR9LWhhbmRsZS1jaXJjbGVgfVxuICAgICAgICAgIHg9e2h4IC0gSEFORExFX1NJWkUgLyAyfVxuICAgICAgICAgIHk9e2h5IC0gSEFORExFX1NJWkUgLyAyfVxuICAgICAgICAgIHdpZHRoPXtIQU5ETEVfU0laRX1cbiAgICAgICAgICBoZWlnaHQ9e0hBTkRMRV9TSVpFfVxuICAgICAgICAgIGZpbGw9XCIjZmZmZmZmXCJcbiAgICAgICAgICBzdHJva2U9XCIjMjU2M2ViXCJcbiAgICAgICAgICBzdHJva2VXaWR0aD17MX1cbiAgICAgICAgICBkcmFnZ2FibGVcbiAgICAgICAgICBvbkRyYWdNb3ZlPXsoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3UmFkaXVzID0gTWF0aC5tYXgoXG4gICAgICAgICAgICAgIDUsXG4gICAgICAgICAgICAgIE1hdGguYWJzKGUudGFyZ2V0LngoKSArIEhBTkRMRV9TSVpFIC8gMiAtIHNoYXBlLngpLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIG9uQ2hhbmdlU2hhcGUoc2hhcGUuaWQsIHsgcmFkaXVzOiBuZXdSYWRpdXMgfSk7XG4gICAgICAgICAgfX1cbiAgICAgICAgLz4sXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgIHNoYXBlLnR5cGUgPT09ICdyZWN0JyB8fFxuICAgICAgc2hhcGUudHlwZSA9PT0gJ29tclJvdycgfHxcbiAgICAgIHNoYXBlLnR5cGUgPT09ICd0ZXh0Ym94JyB8fFxuICAgICAgc2hhcGUudHlwZSA9PT0gJ3RhYmxlJ1xuICAgICkge1xuICAgICAgY29uc3Qgd2lkdGggPVxuICAgICAgICBzaGFwZS50eXBlID09PSAndGFibGUnXG4gICAgICAgICAgPyAoc2hhcGUuY29scyB8fCAyKSAqIChzaGFwZS5jZWxsV2lkdGggfHwgNDApXG4gICAgICAgICAgOiAoc2hhcGUud2lkdGggfHwgMTIwKTtcbiAgICAgIGNvbnN0IGhlaWdodCA9XG4gICAgICAgIHNoYXBlLnR5cGUgPT09ICd0YWJsZSdcbiAgICAgICAgICA/IChzaGFwZS5yb3dzIHx8IDIpICogKHNoYXBlLmNlbGxIZWlnaHQgfHwgMjQpXG4gICAgICAgICAgOiAoc2hhcGUuaGVpZ2h0IHx8IDQwKTtcblxuICAgICAgY29uc3QgaHggPSBzaGFwZS54ICsgd2lkdGg7XG4gICAgICBjb25zdCBoeSA9IHNoYXBlLnkgKyBoZWlnaHQ7XG5cbiAgICAgIGhhbmRsZXMucHVzaChcbiAgICAgICAgPFJlY3RcbiAgICAgICAgICBrZXk9e2Ake3NoYXBlLmlkfS1oYW5kbGUtcmVjdGxpa2VgfVxuICAgICAgICAgIHg9e2h4IC0gSEFORExFX1NJWkUgLyAyfVxuICAgICAgICAgIHk9e2h5IC0gSEFORExFX1NJWkUgLyAyfVxuICAgICAgICAgIHdpZHRoPXtIQU5ETEVfU0laRX1cbiAgICAgICAgICBoZWlnaHQ9e0hBTkRMRV9TSVpFfVxuICAgICAgICAgIGZpbGw9XCIjZmZmZmZmXCJcbiAgICAgICAgICBzdHJva2U9XCIjMjU2M2ViXCJcbiAgICAgICAgICBzdHJva2VXaWR0aD17MX1cbiAgICAgICAgICBkcmFnZ2FibGVcbiAgICAgICAgICBvbkRyYWdNb3ZlPXsoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29ybmVyWCA9IGUudGFyZ2V0LngoKSArIEhBTkRMRV9TSVpFIC8gMjtcbiAgICAgICAgICAgIGNvbnN0IGNvcm5lclkgPSBlLnRhcmdldC55KCkgKyBIQU5ETEVfU0laRSAvIDI7XG5cbiAgICAgICAgICAgIGlmIChzaGFwZS50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbHMgPSBzaGFwZS5jb2xzIHx8IDI7XG4gICAgICAgICAgICAgIGNvbnN0IHJvd3MgPSBzaGFwZS5yb3dzIHx8IDI7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld1RvdGFsV2lkdGggPSBNYXRoLm1heCgyMCwgY29ybmVyWCAtIHNoYXBlLngpO1xuICAgICAgICAgICAgICBjb25zdCBuZXdUb3RhbEhlaWdodCA9IE1hdGgubWF4KDIwLCBjb3JuZXJZIC0gc2hhcGUueSk7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld0NlbGxXaWR0aCA9IE1hdGgubWF4KDUsIG5ld1RvdGFsV2lkdGggLyBjb2xzKTtcbiAgICAgICAgICAgICAgY29uc3QgbmV3Q2VsbEhlaWdodCA9IE1hdGgubWF4KDUsIG5ld1RvdGFsSGVpZ2h0IC8gcm93cyk7XG4gICAgICAgICAgICAgIG9uQ2hhbmdlU2hhcGUoc2hhcGUuaWQsIHtcbiAgICAgICAgICAgICAgICBjZWxsV2lkdGg6IG5ld0NlbGxXaWR0aCxcbiAgICAgICAgICAgICAgICBjZWxsSGVpZ2h0OiBuZXdDZWxsSGVpZ2h0LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IG5ld1dpZHRoID0gTWF0aC5tYXgoMjAsIGNvcm5lclggLSBzaGFwZS54KTtcbiAgICAgICAgICAgICAgY29uc3QgbmV3SGVpZ2h0ID0gTWF0aC5tYXgoMjAsIGNvcm5lclkgLSBzaGFwZS55KTtcbiAgICAgICAgICAgICAgb25DaGFuZ2VTaGFwZShzaGFwZS5pZCwgeyB3aWR0aDogbmV3V2lkdGgsIGhlaWdodDogbmV3SGVpZ2h0IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH19XG4gICAgICAgIC8+LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoc2hhcGUudHlwZSA9PT0gJ2xpbmUnKSB7XG4gICAgICBjb25zdCBoeCA9IHNoYXBlLnggKyBzaGFwZS5sZW5ndGg7XG4gICAgICBjb25zdCBoeSA9IHNoYXBlLnk7XG5cbiAgICAgIGhhbmRsZXMucHVzaChcbiAgICAgICAgPFJlY3RcbiAgICAgICAgICBrZXk9e2Ake3NoYXBlLmlkfS1oYW5kbGUtbGluZWB9XG4gICAgICAgICAgeD17aHggLSBIQU5ETEVfU0laRSAvIDJ9XG4gICAgICAgICAgeT17aHkgLSBIQU5ETEVfU0laRSAvIDJ9XG4gICAgICAgICAgd2lkdGg9e0hBTkRMRV9TSVpFfVxuICAgICAgICAgIGhlaWdodD17SEFORExFX1NJWkV9XG4gICAgICAgICAgZmlsbD1cIiNmZmZmZmZcIlxuICAgICAgICAgIHN0cm9rZT1cIiMyNTYzZWJcIlxuICAgICAgICAgIHN0cm9rZVdpZHRoPXsxfVxuICAgICAgICAgIGRyYWdnYWJsZVxuICAgICAgICAgIG9uRHJhZ01vdmU9eyhlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbmRYID0gZS50YXJnZXQueCgpICsgSEFORExFX1NJWkUgLyAyO1xuICAgICAgICAgICAgY29uc3QgbmV3TGVuZ3RoID0gTWF0aC5tYXgoMTAsIGVuZFggLSBzaGFwZS54KTtcbiAgICAgICAgICAgIG9uQ2hhbmdlU2hhcGUoc2hhcGUuaWQsIHsgbGVuZ3RoOiBuZXdMZW5ndGggfSk7XG4gICAgICAgICAgfX1cbiAgICAgICAgLz4sXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChzaGFwZS50eXBlID09PSAndGV4dCcpIHtcbiAgICAgIGNvbnN0IGJhc2VGb250U2l6ZSA9IHNoYXBlLmZvbnRTaXplIHx8IDE2O1xuICAgICAgY29uc3QgaHggPSBzaGFwZS54ICsgYmFzZUZvbnRTaXplICogMjtcbiAgICAgIGNvbnN0IGh5ID0gc2hhcGUueSArIGJhc2VGb250U2l6ZTtcblxuICAgICAgaGFuZGxlcy5wdXNoKFxuICAgICAgICA8UmVjdFxuICAgICAgICAgIGtleT17YCR7c2hhcGUuaWR9LWhhbmRsZS10ZXh0YH1cbiAgICAgICAgICB4PXtoeCAtIEhBTkRMRV9TSVpFIC8gMn1cbiAgICAgICAgICB5PXtoeSAtIEhBTkRMRV9TSVpFIC8gMn1cbiAgICAgICAgICB3aWR0aD17SEFORExFX1NJWkV9XG4gICAgICAgICAgaGVpZ2h0PXtIQU5ETEVfU0laRX1cbiAgICAgICAgICBmaWxsPVwiI2ZmZmZmZlwiXG4gICAgICAgICAgc3Ryb2tlPVwiIzI1NjNlYlwiXG4gICAgICAgICAgc3Ryb2tlV2lkdGg9ezF9XG4gICAgICAgICAgZHJhZ2dhYmxlXG4gICAgICAgICAgb25EcmFnTW92ZT17KGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvdHRvbVkgPSBlLnRhcmdldC55KCkgKyBIQU5ETEVfU0laRSAvIDI7XG4gICAgICAgICAgICBjb25zdCBuZXdGb250U2l6ZSA9IE1hdGgubWF4KDgsIGJvdHRvbVkgLSBzaGFwZS55KTtcbiAgICAgICAgICAgIG9uQ2hhbmdlU2hhcGUoc2hhcGUuaWQsIHsgZm9udFNpemU6IG5ld0ZvbnRTaXplIH0pO1xuICAgICAgICAgIH19XG4gICAgICAgIC8+LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBpbWFnZTogYm90dG9tLXJpZ2h0IGhhbmRsZSBjaGFuZ2VzIHdpZHRoICYgaGVpZ2h0IChrZWVwIGFzcGVjdCByYXRpbylcbiAgICBpZiAoc2hhcGUudHlwZSA9PT0gJ2ltYWdlJykge1xuICAgICAgY29uc3Qgd2lkdGggPSBzaGFwZS53aWR0aCB8fCAxMDA7XG4gICAgICBjb25zdCBoZWlnaHQgPSBzaGFwZS5oZWlnaHQgfHwgMTAwO1xuICAgICAgY29uc3QgYXNwZWN0ID0gKGhlaWdodCB8fCAxKSAvICh3aWR0aCB8fCAxKTtcbiAgICAgIGNvbnN0IGh4ID0gc2hhcGUueCArIHdpZHRoO1xuICAgICAgY29uc3QgaHkgPSBzaGFwZS55ICsgaGVpZ2h0O1xuXG4gICAgICBoYW5kbGVzLnB1c2goXG4gICAgICAgIDxSZWN0XG4gICAgICAgICAga2V5PXtgJHtzaGFwZS5pZH0taGFuZGxlLWltYWdlYH1cbiAgICAgICAgICB4PXtoeCAtIEhBTkRMRV9TSVpFIC8gMn1cbiAgICAgICAgICB5PXtoeSAtIEhBTkRMRV9TSVpFIC8gMn1cbiAgICAgICAgICB3aWR0aD17SEFORExFX1NJWkV9XG4gICAgICAgICAgaGVpZ2h0PXtIQU5ETEVfU0laRX1cbiAgICAgICAgICBmaWxsPVwiI2ZmZmZmZlwiXG4gICAgICAgICAgc3Ryb2tlPVwiIzI1NjNlYlwiXG4gICAgICAgICAgc3Ryb2tlV2lkdGg9ezF9XG4gICAgICAgICAgZHJhZ2dhYmxlXG4gICAgICAgICAgb25EcmFnTW92ZT17KGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvcm5lclggPSBlLnRhcmdldC54KCkgKyBIQU5ETEVfU0laRSAvIDI7XG4gICAgICAgICAgICBjb25zdCBuZXdXaWR0aCA9IE1hdGgubWF4KDIwLCBjb3JuZXJYIC0gc2hhcGUueCk7XG4gICAgICAgICAgICBjb25zdCBuZXdIZWlnaHQgPSBNYXRoLm1heCgyMCwgbmV3V2lkdGggKiBhc3BlY3QpO1xuICAgICAgICAgICAgb25DaGFuZ2VTaGFwZShzaGFwZS5pZCwgeyB3aWR0aDogbmV3V2lkdGgsIGhlaWdodDogbmV3SGVpZ2h0IH0pO1xuICAgICAgICAgIH19XG4gICAgICAgIC8+LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaGFuZGxlcztcbiAgfTtcblxuICBjb25zdCBzZWxlY3RlZFNoYXBlID0gc2hhcGVzLmZpbmQoKHMpID0+IHMuaWQgPT09IHNlbGVjdGVkSWQpIHx8IG51bGw7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2XG4gICAgICByZWY9e2NvbnRhaW5lclJlZn1cbiAgICAgIGNsYXNzTmFtZT1cImNhbnZhcy13cmFwcGVyXCJcbiAgICAgIG9uRHJvcD17aGFuZGxlRHJvcH1cbiAgICAgIG9uRHJhZ092ZXI9e2hhbmRsZURyYWdPdmVyfVxuICAgID5cbiAgICAgIHtlZGl0aW5nICYmIChcbiAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgdG9wOiBlZGl0aW5nLnksXG4gICAgICAgICAgICBsZWZ0OiBlZGl0aW5nLngsXG4gICAgICAgICAgICB3aWR0aDogZWRpdGluZy53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogZWRpdGluZy5oZWlnaHQsXG4gICAgICAgICAgICBmb250U2l6ZTogZWRpdGluZy5mb250U2l6ZSxcbiAgICAgICAgICAgIHBhZGRpbmc6ICc2cHgnLFxuICAgICAgICAgICAgbWFyZ2luOiAwLFxuICAgICAgICAgICAgYm9yZGVyOiAnMnB4IHNvbGlkICMyNTYzZWInLFxuICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiAnNHB4JyxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICcjZmZmZmZmJyxcbiAgICAgICAgICAgIHJlc2l6ZTogJ25vbmUnLFxuICAgICAgICAgICAgb3V0bGluZTogJ25vbmUnLFxuICAgICAgICAgICAgekluZGV4OiA5OTk5LFxuICAgICAgICAgICAgYm94U2l6aW5nOiAnYm9yZGVyLWJveCcsXG4gICAgICAgICAgfX1cbiAgICAgICAgICBhdXRvRm9jdXNcbiAgICAgICAgICB2YWx1ZT17ZWRpdGluZy50ZXh0fVxuICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT5cbiAgICAgICAgICAgIHNldEVkaXRpbmcoKHByZXYpID0+IChwcmV2ID8geyAuLi5wcmV2LCB0ZXh0OiBlLnRhcmdldC52YWx1ZSB9IDogcHJldikpXG4gICAgICAgICAgfVxuICAgICAgICAgIG9uQmx1cj17ZmluaXNoRWRpdGluZ1RleHRib3h9XG4gICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgZmluaXNoRWRpdGluZ1RleHRib3goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9fVxuICAgICAgICAvPlxuICAgICAgKX1cblxuICAgICAgPFN0YWdlXG4gICAgICAgIHJlZj17c3RhZ2VSZWZ9XG4gICAgICAgIHdpZHRoPXtDQU5WQVNfV0lEVEh9XG4gICAgICAgIGhlaWdodD17Q0FOVkFTX0hFSUdIVH1cbiAgICAgICAgY2xhc3NOYW1lPVwiY2FudmFzLXN0YWdlXCJcbiAgICAgICAgb25Nb3VzZURvd249e2hhbmRsZVN0YWdlTW91c2VEb3dufVxuICAgICAgICBvblRvdWNoU3RhcnQ9e2hhbmRsZVN0YWdlTW91c2VEb3dufVxuICAgICAgPlxuICAgICAgICA8TGF5ZXI+XG4gICAgICAgICAgPFJlY3RcbiAgICAgICAgICAgIHg9ezB9XG4gICAgICAgICAgICB5PXswfVxuICAgICAgICAgICAgd2lkdGg9e0NBTlZBU19XSURUSH1cbiAgICAgICAgICAgIGhlaWdodD17Q0FOVkFTX0hFSUdIVH1cbiAgICAgICAgICAgIGNvcm5lclJhZGl1cz17MTJ9XG4gICAgICAgICAgICBmaWxsPVwiI2ZmZmZmZlwiXG4gICAgICAgICAgICBzdHJva2U9XCIjZTVlN2ViXCJcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoPXsyfVxuICAgICAgICAgIC8+XG5cbiAgICAgICAgICB7c2hhcGVzLm1hcCgoc2hhcGUpID0+IHJlbmRlclNoYXBlKHNoYXBlLCBzaGFwZS5pZCA9PT0gc2VsZWN0ZWRJZCkpfVxuICAgICAgICA8L0xheWVyPlxuXG4gICAgICAgIDxMYXllcj5cbiAgICAgICAgICB7c2VsZWN0ZWRTaGFwZSAmJiByZW5kZXJSZXNpemVIYW5kbGVzKHNlbGVjdGVkU2hhcGUpfVxuICAgICAgICA8L0xheWVyPlxuICAgICAgPC9TdGFnZT5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iXSwibmFtZXMiOlsidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJTdGFnZSIsIkxheWVyIiwiUmVjdCIsIkNpcmNsZSIsIkdyb3VwIiwiVGV4dCIsIkxpbmUiLCJJbWFnZSIsIktvbnZhSW1hZ2UiLCJDQU5WQVNfV0lEVEgiLCJDQU5WQVNfSEVJR0hUIiwiSEFORExFX1NJWkUiLCJDYW52YXNJbWFnZVNoYXBlIiwic2hhcGUiLCJzZXRTZWxlY3RlZElkIiwib25DaGFuZ2VTaGFwZSIsImhhbmRsZURyYWdFbmQiLCJpbWFnZU9iaiIsInNldEltYWdlT2JqIiwic3JjIiwiaW1nIiwid2luZG93Iiwib25sb2FkIiwid2lkdGgiLCJoZWlnaHQiLCJtYXhXaWR0aCIsInNjYWxlIiwiaWQiLCJ4IiwieSIsImltYWdlIiwiZHJhZ2dhYmxlIiwib25DbGljayIsIm9uVGFwIiwib25EcmFnRW5kIiwiZSIsIkNhbnZhc1N0YWdlIiwic2hhcGVzIiwic2VsZWN0ZWRJZCIsIm9uRHJvcE5ld1NoYXBlIiwic3RhZ2VSZWYiLCJjb250YWluZXJSZWYiLCJlZGl0aW5nIiwic2V0RWRpdGluZyIsImhhbmRsZVN0YWdlTW91c2VEb3duIiwidGFyZ2V0IiwiZ2V0U3RhZ2UiLCJub2RlIiwibmV3WCIsIm5ld1kiLCJoYW5kbGVEcm9wIiwicHJldmVudERlZmF1bHQiLCJ0eXBlIiwiZGF0YVRyYW5zZmVyIiwiZ2V0RGF0YSIsInN0YWdlQ29udGFpbmVyIiwiY3VycmVudCIsImNvbnRhaW5lciIsInN0YWdlUmVjdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImZhbGxiYWNrUmVjdCIsInJlY3QiLCJjbGllbnRYIiwibGVmdCIsImNsaWVudFkiLCJ0b3AiLCJNYXRoIiwibWF4IiwibWluIiwiaGFuZGxlRHJhZ092ZXIiLCJzdGFydEVkaXRpbmdUZXh0Ym94Iiwid3JhcHBlclJlY3QiLCJvZmZzZXRYIiwib2Zmc2V0WSIsInRleHQiLCJmb250U2l6ZSIsImZpbmlzaEVkaXRpbmdUZXh0Ym94IiwicmVuZGVyU2hhcGUiLCJpc1NlbGVjdGVkIiwiY29tbW9uUHJvcHMiLCJrZXkiLCJzdHJva2UiLCJzdHJva2VXaWR0aCIsImZpbGwiLCJyYWRpdXMiLCJjb3JuZXJSYWRpdXMiLCJjb3VudCIsImJ1YmJsZVJhZGl1cyIsIm1hcmdpblgiLCJhdmFpbGFibGVXaWR0aCIsInNwYWNpbmciLCJidWJibGVzIiwibGFiZWxzIiwiaSIsImN4IiwiY3kiLCJsZXR0ZXJJbmRleCIsImxldHRlciIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInB1c2giLCJhbGlnbiIsInZlcnRpY2FsQWxpZ24iLCJwb2ludHMiLCJsZW5ndGgiLCJmaWxsRW5hYmxlZCIsInN0cm9rZUNvbG9yIiwib25EYmxDbGljayIsIm9uRGJsVGFwIiwidGV4dENvbG9yIiwid3JhcCIsInJvd3MiLCJjb2xzIiwiY2VsbFdpZHRoIiwiY2VsbEhlaWdodCIsIkFycmF5IiwiZnJvbSIsIm1hcCIsIl8iLCJjIiwiciIsInRvdGFsUXVlc3Rpb25zIiwicm93c1BlckNvbHVtbiIsImJ1YmJsZUNvdW50Iiwicm93R2FwIiwiY29sR2FwIiwibnVtYmVyT2Zmc2V0WCIsImJ1YmJsZXNPZmZzZXRYIiwic3RhcnROdW1iZXIiLCJjaGlsZHJlbiIsImJ1YmJsZVNwYWNpbmciLCJxTnVtYmVyIiwiY29sSW5kZXgiLCJmbG9vciIsInJvd0luZGV4IiwiYmFzZVgiLCJiYXNlWSIsImoiLCJyZW5kZXJSZXNpemVIYW5kbGVzIiwiaGFuZGxlcyIsImh4IiwiaHkiLCJvbkRyYWdNb3ZlIiwibmV3UmFkaXVzIiwiYWJzIiwiY29ybmVyWCIsImNvcm5lclkiLCJuZXdUb3RhbFdpZHRoIiwibmV3VG90YWxIZWlnaHQiLCJuZXdDZWxsV2lkdGgiLCJuZXdDZWxsSGVpZ2h0IiwibmV3V2lkdGgiLCJuZXdIZWlnaHQiLCJlbmRYIiwibmV3TGVuZ3RoIiwiYmFzZUZvbnRTaXplIiwiYm90dG9tWSIsIm5ld0ZvbnRTaXplIiwiYXNwZWN0Iiwic2VsZWN0ZWRTaGFwZSIsImZpbmQiLCJzIiwiZGl2IiwicmVmIiwiY2xhc3NOYW1lIiwib25Ecm9wIiwib25EcmFnT3ZlciIsInRleHRhcmVhIiwic3R5bGUiLCJwb3NpdGlvbiIsInBhZGRpbmciLCJtYXJnaW4iLCJib3JkZXIiLCJib3JkZXJSYWRpdXMiLCJiYWNrZ3JvdW5kIiwicmVzaXplIiwib3V0bGluZSIsInpJbmRleCIsImJveFNpemluZyIsImF1dG9Gb2N1cyIsInZhbHVlIiwib25DaGFuZ2UiLCJwcmV2Iiwib25CbHVyIiwib25LZXlEb3duIiwic2hpZnRLZXkiLCJvbk1vdXNlRG93biIsIm9uVG91Y2hTdGFydCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/CanvasStage.js\n");

/***/ })

};
;